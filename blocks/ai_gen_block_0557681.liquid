{% doc %}
  @prompt
    Create an image banner component with overlay text that says "Discover the latest trends in paithani" positioned in the lower portion of the banner. The text should be placed low enough to avoid overlapping with any existing "Paithani Collection" text in the image, with proper styling and mobile responsiveness.

{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-banner-container-{{ ai_gen_id }} {
    position: relative;
    width: 100%;
    height: {{ block.settings.banner_height_desktop }}px;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .ai-banner-image-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: {{ block.settings.image_position }};
  }

  .ai-banner-placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    background-color: #f4f4f4;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
  }

  .ai-banner-placeholder-{{ ai_gen_id }} svg {
    width: 100%;
    height: 100%;
    max-width: 400px;
    max-height: 300px;
  }

  .ai-banner-empty-state-{{ ai_gen_id }} {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    padding: 12px 20px;
    background-color: rgba(255, 255, 255, 0.9);
    border-radius: 4px;
    font-size: 14px;
    color: #666;
    text-align: center;
    pointer-events: none;}

  .ai-banner-overlay-{{ ai_gen_id }} {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0) 0%,
      rgba(0, 0, 0, {{ block.settings.overlay_opacity | divided_by: 100.0 }}) 100%
    );
    display: flex;
    align-items: flex-end;
    justify-content: center;
    padding: 40px 20px;
  }

  .ai-banner-text-{{ ai_gen_id }} {
    color: {{ block.settings.text_color }};
    font-size: {{ block.settings.text_size }}px;
    font-weight: {{ block.settings.text_weight }};
    text-align: {{ block.settings.text_alignment }};
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
    max-width: 800px;
    margin: 0;
    line-height: 1.3;
  }

  @media screen and (max-width: 749px) {
    .ai-banner-container-{{ ai_gen_id }} {
      height: {{ block.settings.banner_height_mobile }}px;
    }

    .ai-banner-overlay-{{ ai_gen_id }} {
      padding: 20px 16px;
    }

    .ai-banner-text-{{ ai_gen_id }} {
      font-size: {{ block.settings.text_size_mobile }}px;
    }
  }
{% endstyle %}

<div
  class="ai-banner-container-{{ ai_gen_id }}"
  {{ block.shopify_attributes }}
>
  {% if block.settings.banner_image %}
    <img
      src="{{ block.settings.banner_image | image_url: width: 2000 }}"
      alt="{{ block.settings.banner_image.alt | escape }}"
      loading="lazy"
      width="{{ block.settings.banner_image.width }}"
      height="{{ block.settings.banner_image.height }}"
      class="ai-banner-image-{{ ai_gen_id }}"
    >
  {% else %}
    <div class="ai-banner-placeholder-{{ ai_gen_id }}">
      {{ 'hero-apparel-1' | placeholder_svg_tag }}<div class="ai-banner-empty-state-{{ ai_gen_id }}">
        Add a banner image to get started
      </div>
    </div>
  {% endif %}

  <div class="ai-banner-overlay-{{ ai_gen_id }}">
    <h2 class="ai-banner-text-{{ ai_gen_id }}">
      {{ block.settings.overlay_text }}
    </h2>
  </div>
</div>

{% schema %}
{
  "name": "Image banner with overlay",
  "settings": [
    {
      "type": "header",
      "content": "Image"
    },
    {
      "type": "image_picker",
      "id": "banner_image",
      "label": "Banner image"
    },
    {
      "type": "select",
      "id": "image_position",
      "label": "Image position",
      "options": [
        {
          "value": "center center",
          "label": "Center"
        },
        {
          "value": "center top",
          "label": "Top"
        },
        {
          "value": "center bottom",
          "label": "Bottom"
        },
        {
          "value": "left center",
          "label": "Left"
        },
        {
          "value": "right center",
          "label": "Right"
        }
      ],
      "default": "center center"
    },
    {
      "type": "header",
      "content": "Banner size"
    },
    {
      "type": "range",
      "id": "banner_height_desktop",
      "min": 200,
      "max": 800,
      "step": 50,
      "unit": "px",
      "label": "Desktop height",
      "default": 500
    },
    {
      "type": "range",
      "id": "banner_height_mobile",
      "min": 200,
      "max": 600,
      "step": 50,
      "unit": "px",
      "label": "Mobile height",
      "default": 350
    },
    {
      "type": "header",
      "content": "Overlay text"
    },
    {
      "type": "text",
      "id": "overlay_text",
      "label": "Text",
      "default": "Discover the latest trends in paithani"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "text_size",
      "min": 16,
      "max": 60,
      "step": 2,
      "unit": "px",
      "label": "Desktop text size",
      "default": 36
    },
    {
      "type": "range",
      "id": "text_size_mobile",
      "min": 14,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Mobile text size",
      "default": 24
    },
    {
      "type": "select",
      "id": "text_weight",
      "label": "Text weight",
      "options": [
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi bold"
        },
        {
          "value": "700",
          "label": "Bold"
        }
      ],
      "default": "600"
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Text alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "header",
      "content": "Overlay style"
    },
    {
      "type": "range",
      "id": "overlay_opacity",
      "min": 0,
      "max": 80,
      "step": 5,
      "unit": "%",
      "label": "Overlay opacity",
      "default": 30
    }
  ],
  "presets": [
    {
      "name": "Image banner with overlay"
    }
  ],
  "tag": null
}
{% endschema %}